
scalar Date


enum Track {
  se
  ai
  pm
  ixd
  ac
  pmc
}


type Document {
  bucket: String
  name: String
}

type Applicant {
  id: String!
  name: String!
  batch: Int! 
  track: String! 
  email: String!
  cv: Document! 
  consent: String!
  scholarship: String
  coverLetter: Document
  source: String
  gender: String
  status: String! 
}

type User {
 uid: String!
 name: String! 
 email: String!
 photo: String!
}


type Batch {
  batch: Int!
  startDate: Date!
  endDate: Date!
  appStartDate: Date!
  appEndDate: Date!
  appEndDateAI: Date!
  appEndDateIXD: Date!
  appEndDatePM: Date!
  appEndDateSE: Date!
}

type Exception {
  code: String
  message: String
}

type ApplicantList {
  list: [Applicant!]
}

type BatchList {
  list: [Batch!]
}


type Status {
  code: String
  message: String
}



union ApplicantsQueryResult = ApplicantList | Exception
union ApplicantDetailsQueryResult = Applicant | Exception
union BatchesQueryResult = BatchList | Exception
union RateMutationResult = Status | Exception
union SendEmailMutationResult = Status | Exception
union FormMutationResult = Status | Exception

type Query {
  applicants(batch_id_list: [Int!]): ApplicantsQueryResult
  applicantsByStatus(batch_id_list: [Int!], track_list: [Track!], status_list: [String!]): ApplicantsQueryResult
  applicantDetails(batch_id: Int!, applicant_id: String!): ApplicantDetailsQueryResult
  batches(batch_id_list: [Int!]): BatchesQueryResult
  applicantsFromTrack(batch_id_list: [Int!], track_list: [Track!]): ApplicantsQueryResult
  user: User
}

type Mutation {
  rate(batch_id: Int!, applicant_id: String!, score: Int!): RateMutationResult
  moveTrelloCard(source_list_name: String!, dest_list_name: String!, card_name: String!): RateMutationResult
  sendEmail(email_type:String!, applicant_id: String!, applicant_name: String!, applicant_email: String!, track: Track!, batch_id: Int): SendEmailMutationResult
  saveForm(applicant_id: String!, batch_id: Int, location: String!, streetNumber: String!, addressSuffix: String!, postcode: String!, city: String!, country: String!, accountHolder: String!, bankName: String!, iban: String!, bic: String!, shirtSize: String!, shirtStyle: String!, foodIntolerances: String!): FormMutationResult
   
}